@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================================
   MODERN DESIGN SYSTEM - LINGUAFLIP
   =========================================== */

/* CSS Custom Properties for Design System */
:root {
  /* Primary Color Palette */
  --color-primary-50: #f0f9ff;
  --color-primary-100: #e0f2fe;
  --color-primary-200: #bae6fd;
  --color-primary-300: #7dd3fc;
  --color-primary-400: #38bdf8;
  --color-primary-500: #0ea5e9;
  --color-primary-600: #0284c7;
  --color-primary-700: #0369a1;
  --color-primary-800: #075985;
  --color-primary-900: #0c4a6e;
  --color-primary-950: #082f49;

  /* Secondary Color Palette */
  --color-secondary-50: #faf5ff;
  --color-secondary-100: #f3e8ff;
  --color-secondary-200: #e9d5ff;
  --color-secondary-300: #d8b4fe;
  --color-secondary-400: #c084fc;
  --color-secondary-500: #a855f7;
  --color-secondary-600: #9333ea;
  --color-secondary-700: #7c3aed;
  --color-secondary-800: #6b21a8;
  --color-secondary-900: #581c87;
  --color-secondary-950: #3b0764;

  /* Accent Color Palette */
  --color-accent-50: #fff7ed;
  --color-accent-100: #ffedd5;
  --color-accent-200: #fed7aa;
  --color-accent-300: #fdba74;
  --color-accent-400: #fb923c;
  --color-accent-500: #f97316;
  --color-accent-600: #ea580c;
  --color-accent-700: #c2410c;
  --color-accent-800: #9a3412;
  --color-accent-900: #7c2d12;
  --color-accent-950: #431407;

  /* Neutral Color Palette - Improved contrast for light mode */
  --color-neutral-50: #fafafa;
  --color-neutral-100: #f5f5f5;
  --color-neutral-200: #e5e5e5;
  --color-neutral-300: #d4d4d4;
  --color-neutral-400: #9ca3af;
  --color-neutral-500: #6b7280;
  --color-neutral-600: #4b5563;
  --color-neutral-700: #374151;
  --color-neutral-800: #1f2937;
  --color-neutral-900: #111827;
  --color-neutral-950: #030712;

  /* Success Color Palette */
  --color-success-50: #f0fdf4;
  --color-success-100: #dcfce7;
  --color-success-200: #bbf7d0;
  --color-success-300: #86efac;
  --color-success-400: #4ade80;
  --color-success-500: #22c55e;
  --color-success-600: #16a34a;
  --color-success-700: #15803d;
  --color-success-800: #166534;
  --color-success-900: #14532d;
  --color-success-950: #052e16;

  /* Warning Color Palette */
  --color-warning-50: #fffbeb;
  --color-warning-100: #fef3c7;
  --color-warning-200: #fde68a;
  --color-warning-300: #fcd34d;
  --color-warning-400: #fbbf24;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;
  --color-warning-700: #b45309;
  --color-warning-800: #92400e;
  --color-warning-900: #78350f;
  --color-warning-950: #451a03;

  /* Error Color Palette */
  --color-error-50: #fef2f2;
  --color-error-100: #fee2e2;
  --color-error-200: #fecaca;
  --color-error-300: #fca5a5;
  --color-error-400: #f87171;
  --color-error-500: #ef4444;
  --color-error-600: #dc2626;
  --color-error-700: #b91c1c;
  --color-error-800: #991b1b;
  --color-error-900: #7f1d1d;
  --color-error-950: #450a0a;

  /* Gradient Definitions - Improved for better contrast */
  --gradient-primary: linear-gradient(
    135deg,
    var(--color-primary-500) 0%,
    var(--color-primary-700) 100%
  );
  --gradient-secondary: linear-gradient(
    135deg,
    var(--color-secondary-500) 0%,
    var(--color-secondary-700) 100%
  );
  --gradient-accent: linear-gradient(
    135deg,
    var(--color-accent-500) 0%,
    var(--color-accent-700) 100%
  );
  --gradient-success: linear-gradient(
    135deg,
    var(--color-success-500) 0%,
    var(--color-success-700) 100%
  );
  --gradient-background: linear-gradient(
    135deg,
    var(--color-primary-50) 0%,
    var(--color-neutral-100) 50%,
    var(--color-secondary-50) 100%
  );
  --gradient-card-front: linear-gradient(
    145deg,
    var(--color-neutral-50) 0%,
    var(--color-primary-100) 100%
  );
  --gradient-card-back: linear-gradient(
    145deg,
    var(--color-neutral-50) 0%,
    var(--color-secondary-100) 100%
  );

  /* Shadow Definitions - Improved for better contrast in both themes */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-base: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg:
    0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl:
    0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --shadow-glow-primary: 0 0 20px rgb(14 165 233 / 0.3);
  --shadow-glow-secondary: 0 0 20px rgb(168 85 247 / 0.3);

  /* Light mode specific shadows */
  --shadow-light-sm: 0 1px 2px 0 rgb(0 0 0 / 0.03);
  --shadow-light-base:
    0 1px 3px 0 rgb(0 0 0 / 0.06), 0 1px 2px -1px rgb(0 0 0 / 0.06);
  --shadow-light-md:
    0 4px 6px -1px rgb(0 0 0 / 0.06), 0 2px 4px -2px rgb(0 0 0 / 0.06);
  --shadow-light-lg:
    0 10px 15px -3px rgb(0 0 0 / 0.06), 0 4px 6px -4px rgb(0 0 0 / 0.06);

  /* Border Radius */
  --radius-sm: 0.125rem;
  --radius-base: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-3xl: 1.5rem;
  --radius-full: 9999px;

  /* Typography */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;
  --font-size-6xl: 3.75rem;

  /* Spacing */
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;
  --spacing-10: 2.5rem;
  --spacing-12: 3rem;
  --spacing-16: 4rem;
  --spacing-20: 5rem;
  --spacing-24: 6rem;
}

/* Dark Mode Support */
.dark {
  /* Neutral colors for dark mode */
  --color-neutral-50: #171717;
  --color-neutral-100: #262626;
  --color-neutral-200: #404040;
  --color-neutral-300: #525252;
  --color-neutral-400: #737373;
  --color-neutral-500: #a3a3a3;
  --color-neutral-600: #d4d4d4;
  --color-neutral-700: #e5e5e5;
  --color-neutral-800: #f5f5f5;
  --color-neutral-900: #fafafa;
  --color-neutral-950: #ffffff;

  /* Primary colors for dark mode - slightly brighter for better contrast */
  --color-primary-50: #1e293b;
  --color-primary-100: #334155;
  --color-primary-200: #475569;
  --color-primary-300: #64748b;
  --color-primary-400: #7c8ba1;
  --color-primary-500: #94a3b8;
  --color-primary-600: #cbd5e1;
  --color-primary-700: #e2e8f0;
  --color-primary-800: #f1f5f9;
  --color-primary-900: #f8fafc;
  --color-primary-950: #ffffff;

  /* Secondary colors for dark mode */
  --color-secondary-50: #1e1b4b;
  --color-secondary-100: #312e81;
  --color-secondary-200: #3730a3;
  --color-secondary-300: #4338ca;
  --color-secondary-400: #4f46e5;
  --color-secondary-500: #6366f1;
  --color-secondary-600: #8b5cf6;
  --color-secondary-700: #a78bfa;
  --color-secondary-800: #c4b5fd;
  --color-secondary-900: #ddd6fe;
  --color-secondary-950: #f3f4f6;

  /* Accent colors for dark mode */
  --color-accent-50: #451a03;
  --color-accent-100: #9a3412;
  --color-accent-200: #c2410c;
  --color-accent-300: #ea580c;
  --color-accent-400: #fb923c;
  --color-accent-500: #fdba74;
  --color-accent-600: #fed7aa;
  --color-accent-700: #ffedd5;
  --color-accent-800: #fff7ed;
  --color-accent-900: #fef3c7;
  --color-accent-950: #fefce8;

  /* Success colors for dark mode */
  --color-success-50: #052e16;
  --color-success-100: #14532d;
  --color-success-200: #166534;
  --color-success-300: #15803d;
  --color-success-400: #16a34a;
  --color-success-500: #22c55e;
  --color-success-600: #4ade80;
  --color-success-700: #86efac;
  --color-success-800: #bbf7d0;
  --color-success-900: #dcfce7;
  --color-success-950: #f0fdf4;

  /* Warning colors for dark mode */
  --color-warning-50: #451a03;
  --color-warning-100: #78350f;
  --color-warning-200: #92400e;
  --color-warning-300: #b45309;
  --color-warning-400: #d97706;
  --color-warning-500: #f59e0b;
  --color-warning-600: #fbbf24;
  --color-warning-700: #fcd34d;
  --color-warning-800: #fde68a;
  --color-warning-900: #fef3c7;
  --color-warning-950: #fffbeb;

  /* Error colors for dark mode */
  --color-error-50: #450a0a;
  --color-error-100: #7f1d1d;
  --color-error-200: #991b1b;
  --color-error-300: #b91c1c;
  --color-error-400: #dc2626;
  --color-error-500: #ef4444;
  --color-error-600: #f87171;
  --color-error-700: #fca5a5;
  --color-error-800: #fecaca;
  --color-error-900: #fee2e2;
  --color-error-950: #fef2f2;

  /* Updated gradients for dark mode */
  --gradient-card-front: linear-gradient(
    145deg,
    var(--color-neutral-800) 0%,
    var(--color-primary-900) 100%
  );
  --gradient-card-back: linear-gradient(
    145deg,
    var(--color-neutral-800) 0%,
    var(--color-secondary-900) 100%
  );
}

/* Component Styles */
@layer components {
  .btn-primary {
    @apply rounded-xl px-6 py-3 font-semibold shadow-lg transition-all duration-200;
    background: var(--gradient-primary);
    color: white;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl), var(--shadow-glow-primary);
  }

  .btn-secondary {
    @apply rounded-xl px-6 py-3 font-semibold shadow-lg transition-all duration-200;
    background: var(--gradient-secondary);
    color: white;
  }

  .btn-secondary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl), var(--shadow-glow-secondary);
  }

  .card-front {
    background: var(--gradient-card-front);
    border: 1px solid var(--color-primary-200);
  }

  .card-back {
    background: var(--gradient-card-back);
    border: 1px solid var(--color-secondary-200);
  }

  .text-gradient-primary {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-secondary {
    background: var(--gradient-secondary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}

/* Ensures 3D transform effects work correctly */
.perspective {
  perspective: 1000px;
}
.transform-style-preserve-3d {
  transform-style: preserve-3d;
}
.backface-hidden {
  backface-visibility: hidden;
}
.rotate-y-180 {
  transform: rotateY(180deg);
}

/* ===========================================
    MOBILE RESPONSIVENESS & TOUCH OPTIMIZATIONS
    =========================================== */

/* Touch-friendly button sizes (minimum 44px) */
@layer components {
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  .touch-target-sm {
    min-height: 36px;
    min-width: 36px;
  }

  .touch-target-lg {
    min-height: 48px;
    min-width: 48px;
  }

  /* Mobile-specific button styles */
  .btn-mobile {
    @apply touch-target rounded-lg px-6 py-4 text-base font-medium;
    min-height: 48px;
  }

  .btn-mobile-sm {
    @apply touch-target-sm rounded-md px-4 py-3 text-sm font-medium;
    min-height: 40px;
  }

  /* Touch feedback animations */
  .touch-feedback {
    @apply transition-all duration-150 ease-out;
  }

  .touch-feedback:active {
    transform: scale(0.95);
  }

  .touch-feedback:hover {
    transform: scale(1.02);
  }

  /* Mobile-optimized text sizes */
  .text-mobile-lg {
    @apply text-lg sm:text-xl;
  }

  .text-mobile-xl {
    @apply text-xl sm:text-2xl;
  }

  .text-mobile-2xl {
    @apply text-2xl sm:text-3xl;
  }

  /* Mobile spacing utilities */
  .space-mobile-y {
    @apply space-y-4 sm:space-y-6;
  }

  .space-mobile-x {
    @apply space-x-3 sm:space-x-4;
  }

  /* Mobile padding utilities */
  .p-mobile {
    @apply p-4 sm:p-6;
  }

  .px-mobile {
    @apply px-4 sm:px-6;
  }

  .py-mobile {
    @apply py-4 sm:py-6;
  }

  /* Mobile margin utilities */
  .m-mobile {
    @apply m-4 sm:m-6;
  }

  /* Mobile card sizing */
  .card-mobile {
    @apply mx-auto w-full max-w-sm;
  }

  .card-mobile-lg {
    @apply mx-auto w-full max-w-md;
  }

  /* Mobile flashcard specific styles */
  .flashcard-mobile {
    @apply mx-auto h-72 w-full max-w-sm sm:h-80 md:h-96;
  }

  /* Touch gesture indicators */
  .swipe-indicator {
    @apply absolute bottom-4 left-1/2 -translate-x-1/2 transform text-sm text-neutral-400 opacity-60;
  }

  .swipe-indicator::before {
    content: '← Swipe to navigate →';
  }

  /* Mobile navigation improvements */
  .mobile-nav {
    @apply fixed bottom-0 left-0 right-0 z-50 border-t border-neutral-200 bg-white;
    padding-bottom: env(safe-area-inset-bottom);
  }

  .mobile-nav-item {
    @apply touch-target flex flex-1 flex-col items-center justify-center px-1 py-2;
  }

  /* Improved mobile sidebar */
  .mobile-sidebar {
    @apply fixed inset-y-0 left-0 z-50 w-80 max-w-[90vw] transform bg-white shadow-2xl transition-transform duration-300 ease-in-out;
  }

  .mobile-sidebar-overlay {
    @apply fixed inset-0 z-40 bg-black bg-opacity-50;
  }

  /* Mobile header improvements */
  .mobile-header {
    @apply sticky top-0 z-40 border-b border-neutral-200 bg-white shadow-sm;
    padding-top: env(safe-area-inset-top);
  }

  /* Touch scrolling improvements */
  .touch-scroll {
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .touch-scroll::-webkit-scrollbar {
    display: none;
  }

  /* Mobile viewport optimizations */
  .mobile-viewport {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }

  /* Haptic feedback simulation */
  @keyframes haptic-pulse {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(0.98);
    }
    100% {
      transform: scale(1);
    }
  }

  .haptic-feedback {
    animation: haptic-pulse 0.15s ease-out;
  }

  /* Mobile focus styles for accessibility */
  .focus-mobile:focus {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2;
  }

  /* Mobile loading states */
  .loading-mobile {
    @apply animate-pulse rounded bg-neutral-200;
  }
}

/* Mobile-specific media queries */
@media (max-width: 640px) {
  /* Reduce motion for mobile performance */
  .motion-reduce-mobile * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  /* Optimize font rendering on mobile */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Improve tap highlighting */
  * {
    -webkit-tap-highlight-color: rgba(59, 130, 246, 0.1);
  }

  /* Prevent zoom on input focus */
  input[type='text'],
  input[type='email'],
  input[type='password'],
  textarea,
  select {
    font-size: 16px;
  }
}

/* Tablet optimizations */
@media (min-width: 641px) and (max-width: 1024px) {
  .tablet-optimized {
    @apply mx-auto max-w-2xl;
  }

  .tablet-grid {
    @apply grid grid-cols-2 gap-4;
  }
}

/* Landscape mobile optimizations */
@media (max-height: 500px) and (orientation: landscape) {
  .landscape-mobile {
    @apply h-auto min-h-[50vh];
  }

  .flashcard-landscape {
    @apply h-48 md:h-64;
  }
}
