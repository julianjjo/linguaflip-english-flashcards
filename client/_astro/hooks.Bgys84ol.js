import{r as t}from"./react-vendor.DGywmNEQ.js";const d="linguaflip-theme",E=()=>{const[a,m]=t.useState("auto"),[h,i]=t.useState(!1),[c,l]=t.useState("light");t.useEffect(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),s=g=>{l(g.matches?"dark":"light")};return e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[]),t.useEffect(()=>{i(!0);const e=localStorage.getItem(d);e&&(e==="light"||e==="dark"||e==="auto")&&m(e),l(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]);const n=a==="auto"?c:a,o=n==="dark",u=n==="light";t.useEffect(()=>{const e=document.documentElement;o?(e.classList.add("dark"),e.setAttribute("data-theme","dark")):(e.classList.remove("dark"),e.setAttribute("data-theme","light"));const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content",o?"#1f2937":"#ffffff")},[o]);const r=t.useCallback(e=>{m(e),localStorage.setItem(d,e)},[]),f=t.useCallback(()=>{r(a==="auto"?c==="dark"?"light":"dark":a==="dark"?"light":"dark")},[a,c,r]);return{theme:a,actualTheme:n,setTheme:r,toggleTheme:f,isDark:o,isLight:u,mounted:h}};export{E as u};
