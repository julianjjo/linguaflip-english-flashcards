import{c as n,R as o}from"./react-vendor.DGywmNEQ.js";import{c as a,p as i}from"./Header.astro_astro_type_script_index_0_lang.D70yTJYG.js";import"./state-vendor.AbkSLUgN.js";import"./vendor.QRJdyujs.js";import"./utils.C1pdIpZs.js";import"./hooks.Bgys84ol.js";import"./flashcard-components.Dmu1f7E8.js";const l=JSON.parse(decodeURIComponent(`${encodeURIComponent(JSON.stringify(defaultProfile))}`));class d{constructor(){this.currentProfile=null,this.handleDocumentClick=this.onDocumentClick.bind(this),this.init()}init(){this.loadCurrentProfile(),this.renderSettings(),this.setupEventListeners()}loadCurrentProfile(){this.currentProfile=a.get(),this.currentProfile||(this.currentProfile=l,i.setCurrentProfile(this.currentProfile)),this.currentProfile&&this.updateProfileDisplay()}updateProfileDisplay(){if(!this.currentProfile)return;const e=document.getElementById("current-profile-name"),t=document.getElementById("profile-daily-cards"),r=document.getElementById("profile-daily-time"),s=document.getElementById("profile-audio");e&&(e.textContent=this.currentProfile.name),t&&(t.textContent=this.currentProfile.studyGoals.dailyCards.toString()),r&&(r.textContent=this.currentProfile.studyGoals.dailyTime.toString()),s&&(s.textContent=this.currentProfile.audioSettings.enabled?"Activado":"Desactivado")}renderSettings(){const e=document.getElementById("settings-container");if(!e)return;e.innerHTML="",n.createRoot(e).render(o.createElement("div",null,"Settings component loading..."))}handleProfileChange(e){this.currentProfile=e,i.updateProfile(e),this.updateProfileDisplay(),this.showSaveStatus()}setupEventListeners(){document.addEventListener("click",this.handleDocumentClick)}onDocumentClick(e){const t=e.target;if(!t)return;if(t.closest("#save-settings")){this.currentProfile&&(i.setCurrentProfile(this.currentProfile),this.showSaveStatus());return}t.closest("#reset-settings")&&(e.preventDefault(),confirm("¿Estás seguro de que quieres restablecer todas las configuraciones?")&&this.resetSettings())}resetSettings(){const e={id:"default",name:"Perfil Predeterminado",description:"Configuración de estudio básica",studyMode:{mode:"mixed"},difficultyFilter:{enabled:!0,levels:["easy","medium","hard"],focusRecentCards:!1,recentDaysThreshold:7,prioritizeDueCards:!0,excludeMasteredCards:!1},isDefault:!0,sessionControls:{maxCardsPerSession:20,breakInterval:10,breakDuration:5,autoAdvance:!0,showProgress:!0},audioSettings:{enabled:!0,speed:"normal",voice:"female",autoPlay:!0},visualSettings:{cardSize:"medium",fontSize:"medium",theme:"light",animations:!0},notificationSettings:{sessionReminders:!0,breakReminders:!0,achievementNotifications:!0,dailyGoalReminders:!0},studyGoals:{dailyCards:20,dailyTime:30,weeklyCards:100,weeklyTime:180,monthlyCards:400,monthlyTime:720},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};this.currentProfile=e,i.setCurrentProfile(e),this.renderSettings(),this.updateProfileDisplay(),this.showSaveStatus()}showSaveStatus(){const e=document.getElementById("save-status");e&&(e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("hidden")},3e3))}}document.addEventListener("DOMContentLoaded",()=>{new d});
